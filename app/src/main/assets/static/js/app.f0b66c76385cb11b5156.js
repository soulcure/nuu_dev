webpackJsonp([1],{"1hV2":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(t){a("SkBr")},null,null).exports,c=a("/ocq"),o=a("mvHQ"),r=a.n(o),l=a("Au9i"),d=a.n(l),u={name:"mainVue",data:function(){return{deviceInfo:{},packageList:[],summary:{},allLoaded:!1,curPackageTodayUsed:"--",curCountry:"...",curSignal:"/static/signal/signal-1.png",curSignalGen:"Unknown"}},methods:{getSpeedClass:function(){return this.getSpeedState()?"slowspeed":""},getSpeedState:function(){if(this.isEmptyObject(this.deviceInfo))return!0;var t=this.deviceInfo.speedState.split("|"),e=!1;return"rate"==t[0]&&"rate"==t[1]&&(e=!0),e},getSpeed:function(){return this.getSpeedState()?"Slow Speed":"Normal Speed"},isEmptyObject:function(t){return"string"==typeof t||"{}"===r()(t)},formateData:function(t){var e=t/1024;return Math.round(100*e)/100+"M"},getConnection:function(){return this.isEmptyObject(this.deviceInfo)?"--":this.deviceInfo.hotAmount},shutdownDevice:function(){var t=this;Object(l.MessageBox)({title:"tips",message:"do you wante to shutdown?",showCancelButton:!0,confirmButtonText:"yes",cancelButtonText:"cancel"}).then(function(e){"cancel"!==e&&t.axios.get("/localserver",{params:{localApi:"shutdown"}}).then(function(e){t.deviceInfo=e.data}).catch(function(t){console.log(t)})})},loadTop:function(){var t=this;this.getPackage(function(){t.allLoaded=!0,t.$refs.loadmore.onTopLoaded()})},loadBottom:function(){this.$refs.loadmore.onBottomLoaded(),this.allLoaded=!0},getPackage:function(t){var e=this;if(this.isEmptyObject(this.deviceInfo))return 0;var a=this.deviceInfo.deviceSN;if(null==a||""===a)return 0;var n=new URLSearchParams;n.append("api_name","query_packages"),n.append("device_sn",a),this.axios.post("/api",n).then(function(a){if(0==a.data.code){var n=a.data.data,i=n.packages,s=n.summary;e.packageList=i,e.summary=s,e.curPackageTodayUsed=e.toDecimal(s.todayDataUsed/1024),e.curSignal=e.getSignalImg(),e.curSignalGen=e.getSignalGen(),null!=t&&t()}}).catch(function(t){})},getCurCountry:function(t){var e=this;if(!this.isEmptyObject(this.deviceInfo)){var a=this.deviceInfo.deviceSN;if(null!=a&&""!==a){var n=new URLSearchParams;n.append("api_name","device_info"),n.append("device_sn",a),this.axios.post("/api",n).then(function(a){if(0==a.data.code){var n=a.data.data;e.curCountry=n.countryStr,null!=t&&t()}}).catch(function(t){e.curCountry="..."})}}},toDecimal:function(t){var e=parseFloat(t);return isNaN(e)?0:e=Math.round(100*t)/100},getPow:function(){return this.isEmptyObject(this.deviceInfo)?0:this.deviceInfo.pow},getPowClass:function(){if(this.isEmptyObject(this.deviceInfo))return"icon-iconset0252";if(1===this.deviceInfo.charge)return"icon-iconset0247";var t=parseInt(this.deviceInfo.pow);return 100===t?"icon-iconset0252":t>=75?"icon-iconset0251":t>=45?"icon-iconset0250":t>=10?"icon-iconset0249":"icon-iconset0248"},getSignalImg:function(){return this.isEmptyObject(this.deviceInfo)?"/static/signal/signal-1.png":this.getSignalLevel()},getRealNetmodeInt:function(){if(this.isEmptyObject(this.deviceInfo))return 0;var t=0;switch(parseInt(this.deviceInfo.sim1.netMode)){case 1:case 2:case 16:t=2;break;case 3:case 8:case 9:t=3;break;case 13:case 19:t=4;break;default:t=0}return t},getSignalGen:function(){var t=this.getRealNetmodeInt();return 0===t?"Unknown":t+"G"},getSignalLevel:function(){var t=this.getRealNetmodeInt();if(0===t)return"/static/signal/signal-5";var e=parseInt(this.deviceInfo.sim1.signal);return 4===t&&(e+=15),e>=-79&&e<=-50?"/static/signal/signal-5.png":e>=-89&&e<=-80?"/static/signal/signal-4.png":e>=-99&&e<=-90?"/static/signal/signal-3.png":e>=-109&&e<=-100?"/static/signal/signal-2.png":"/static/signal/signal-1.png"}},created:function(){var t=this;this.axios.get("/localserver",{params:{localApi:"info"}}).then(function(e){t.deviceInfo=e.data,t.getPackage(),t.getCurCountry()}).catch(function(t){console.log(t)})}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"home-info"},[a("div",{staticClass:"info-header"},[a("div",{staticClass:"signal_wrapper"},[a("div",{staticClass:"signal"},[a("img",{attrs:{src:t.curSignal}})]),t._v(" "),a("span",[t._v(t._s(t.curSignalGen))])]),t._v(" "),a("div",{staticClass:"battery"},[a("i",{staticClass:"icon iconfont",class:t.getPowClass()}),a("span",[t._v(t._s(t.getPow())+"%")])])]),t._v(" "),a("div",{staticClass:"info-content"},[a("div",{staticClass:"info-content-left info-item"},[a("div",{staticStyle:{width:"100px","font-size":"32px","text-align":"center"}},[t._v("\n          "+t._s(t.curPackageTodayUsed)+"\n        ")])]),t._v(" "),a("div",{staticClass:"info-content-right info-item"},[a("div",[t._m(1),t._v(" "),a("p",{class:t.getSpeedClass(),staticStyle:{margin:"3px 0"}},[t._v(t._s(t.getSpeed()))]),t._v(" "),a("p",{staticStyle:{margin:"3px 0"}},[t._v("Connection:"+t._s(t.getConnection()))])])])]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"30px",color:"#fff","font-size":"24px","text-align":"center"}},[t._v(t._s(t.curCountry))])]),t._v(" "),a("div",{staticClass:"package"},[a("ul",t._l(t.packageList,function(e){return a("li",{staticStyle:{padding:"1px 2px"}},[a("div",{staticStyle:{"font-size":"18px","margin-bottom":"2px",color:"#5D80D8"}},[t._v(t._s(e.package_name))]),t._v(" "),a("div",{staticClass:"detail"},[a("div",{staticClass:"detail-left"},[t._v("Used:"+t._s(t.toDecimal(e.data_used/1024))+"MB")]),t._v(" "),a("div",{staticClass:"detail-right"},[t._v("Valid\n            peroid:"+t._s(e.effective_time.slice(0,10))+"~"+t._s(e.ineffective_time.slice(0,10))+"\n          ")])])])}))]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"float-btn",attrs:{hidden:""},on:{click:function(e){t.shutdownDevice()}}},[a("img",{attrs:{src:"/static/img/shutdown.png"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"/static/img/logo.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"3px 0"}},[e("strong",[this._v("MB")]),this._v(" Used")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"10px"}},[e("p",[this._v("Global WiFi Customer Service(24 hours)")]),this._v(" "),e("p",[this._v("TEL(from overseas):+86-50-5840-9686")]),this._v(" "),e("p",[this._v("TEL(from Japan):0120-510-670")]),this._v(" "),e("p",[this._v("E-mail:info@townwifi.com")])])}]};var f=a("VU/8")(u,v,!1,function(t){a("kXMV")},"data-v-7809e78c",null).exports,p={name:"package",data:function(){return{packets:[]}},methods:{formateData:function(t){var e=t/1024;return Math.round(100*e)/100+"M"},formateTime:function(t){return new Date(1e3*t).toLocaleString()},getPackage:function(t,e,a){var n=this;if(null==t||""===t)return 0;console.log("sn=",t,"packageid=",e);var i=new URLSearchParams;i.append("api_name","query_packet"),i.append("device_sn",t),i.append("device_package_id",e),this.axios.post("/api",i).then(function(t){if(0==t.data.code){var e=t.data.data.packets;n.packets=e,console.log("packets",e),null!=a&&a()}}).catch(function(t){console.log(t)})}},created:function(){var t=this.$route.query.package_id,e=this.$route.query.device_sn;this.getPackage(e,t)}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"#eaeaea"},attrs:{id:"package"}},[a("div",{staticClass:"clearfix"},[a("mt-header",{attrs:{title:"Package Details"}},[a("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[t._v("Back")])],1)],1)],1),t._v(" "),a("div",{staticStyle:{padding:"10px"}},t._l(t.packets,function(e){return a("div",{staticClass:"card",staticStyle:{"margin-bottom":"8px"}},[a("div",{staticStyle:{padding:"5px"}},[a("mt-cell",{attrs:{title:"effective_time",value:t.formateTime(e.effective_time)}}),t._v(" "),a("mt-cell",{attrs:{title:"ineffective_time",value:t.formateTime(e.ineffective_time)}}),t._v(" "),a("mt-cell",{attrs:{title:"used_data",value:t.formateData(e.used_data)}}),t._v(" "),a("mt-cell",{attrs:{title:"total_data",value:t.formateData(e.total_data)}}),t._v(" "),a("mt-cell",{attrs:{title:"type",value:e.type}})],1)])}))])},staticRenderFns:[]};var h=a("VU/8")(p,g,!1,function(t){a("g8UF")},"data-v-7a7a35d0",null).exports,m={name:"second",methods:{goBack:function(){console.log("===goBack2======"),this.$router.go(-1)}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",{on:{click:this.goBack}},[this._v("goback")]),this._v(" "),e("div",{staticClass:"parent"})])},staticRenderFns:[]};var S=a("VU/8")(m,_,!1,function(t){a("1hV2")},"data-v-201eea88",null).exports;n.default.use(c.a);var k=new c.a({routes:[{path:"/",name:"Main",component:f},{path:"/package",name:"Package",component:h},{path:"/second",name:"Second",component:S}]}),y=a("mtWM"),C=a.n(y),w=a("Rf8U"),x=a.n(w);a("d8/S");n.default.use(d.a),n.default.use(x.a,C.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:k,components:{App:s},template:"<App/>"})},SkBr:function(t,e){},"d8/S":function(t,e){},g8UF:function(t,e){},kXMV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f0b66c76385cb11b5156.js.map